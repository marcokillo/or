<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>دفترچه خاطرات</title>
  <style>
    body {
      background-color: #fef9f3;
      font-family: 'Tahoma', sans-serif;
      color: #333;
      line-height: 2.2;
      padding: 50px;
      max-width: 900px;
      margin: auto;
      direction: rtl;
      transition: opacity 0.5s ease;
    }

    .next-button, .start-button {
      display: block;
      margin-top: 40px;
      text-align: center;
    }

    button {
      padding: 10px 20px;
      background-color: #c0392b;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
    }

    button:hover {
      background-color: #922b21;
    }
  </style>
</head>
<body>

  <!-- 🎵 موزیک پس‌زمینه -->
  <audio id="bg-music" loop hidden>
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_1f2b4ec79d.mp3" type="audio/mpeg">
    مرورگر شما از پخش موزیک پشتیبانی نمی‌کند.
  </audio>

  <!-- دکمه شروع برای فعال‌سازی صدا و محتوای داستان -->
  <div class="start-button">
    <button id="startButton">شروع</button>
  </div>

  <div id="content" style="opacity: 0;"></div>

  <div class="next-button" style="display: none;">
    <button id="nextPage">صفحه بعد</button>
  </div>

  <script>
    const pages = [
      `امروز، 25 می 2010<br><br>ده ساله که فقط سکوت کردم...`,
      `بیمار: جاناتان هریسون<br><br>تاریخ: 1 اکتبر 2000...`,
      `ما گفتیم یک قتل رخ داد... ولی نگفتیم از کجا شروع شد...`
    ];

    let currentPage = 0;
    const contentDiv = document.getElementById("content");
    const nextButtonDiv = document.querySelector(".next-button");
    const nextButton = document.getElementById("nextPage");
    const startButton = document.getElementById("startButton");
    const music = document.getElementById("bg-music");

    function renderPage(index) {
      contentDiv.style.opacity = 0;
      setTimeout(() => {
        contentDiv.innerHTML = `<p>${pages[index]}</p>`;
        contentDiv.style.opacity = 1;
      }, 200);
    }

    startButton.addEventListener("click", () => {
      // پخش موسیقی پس از تعامل کاربر
      music.volume = 1.0;
      music.play().catch(() => {
        console.log("پخش موسیقی با خطا مواجه شد.");
      });

      // نمایش محتوای صفحه
      renderPage(currentPage);

      // مخفی‌سازی دکمه شروع و نمایش دکمه بعد
      startButton.style.display = "none";
      nextButtonDiv.style.display = "block";
    });

    nextButton.addEventListener("click", () => {
      if (currentPage < pages.length - 1) {
        currentPage++;
        renderPage(currentPage);
        if (currentPage === pages.length - 1) {
          nextButton.style.display = "none";
        }
      }
    });
  </script>
</body>
</html>
